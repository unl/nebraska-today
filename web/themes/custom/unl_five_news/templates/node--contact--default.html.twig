{{ attach_library('unl_five_news/article') }}

{# Name #}
{% if label != null  %}
    {% set name = label %}
{% else %}
    {% set name = node.field_unldirectoryreference.entity.title.value %} 
{% endif %}

{# Image #}
{% if content.field_contact_photo['#title'] != null %}
    {% set profileImage = content.field_contact_photo %}
{% else %}
    {% set profileImage = '<img src="https://directory.unl.edu/avatar/slahey3?s=large"/>'%}
    {# {% set profileImage = '<img src="../css/theme/defaultImage.webp" />'%} #}
{% endif %}

{# Affiliation to university #}
{% set affiliation = node.field_unldirectoryreference.entity.field_edupersonprimaryaffiliatio.value %}

{# Position Title #}
{% set title = node.field_unldirectoryreference.entity.field_title.value %}
{% set fieldTitle = content.field_contact_position %}

{# Department #}
{% set department = node.field_unldirectoryreference.entity.field_unlhrprimarydepartment.value %}

{# Email #}
{% if content.field_contact_email.0["#title"] != null %}
    {% set email =  content.field_contact_email  %}
{% else %}
    {% set email = node.field_unldirectoryreference.entity.field_mail.value %}
{% endif %}

{# Phone number #}
{% if content.field_contact_phone.0["#title"] != null %}
    {% set phoneNumber = content.field_contact_phone %}
{% else %}
    {% set phoneNumber = node.field_unldirectoryreference.entity.field_telephonenumber.value %}
{% endif %}

{# webiste #}
{% set website = content.field_contact_website %}
{# Name #}
{% if label != null  %}
    {% set name = label %}
{% else %}
    {% set name = node.field_unldirectoryreference.entity.title.value %} 
{% endif %}

{# Image #}
{% if content.field_contact_photo['#title'] != null %}
    {% set profileImage = content.field_contact_photo %}
{% else %}
    {% set profileImage = '<img src="https://directory.unl.edu/avatar/slahey3?s=large"/>'%}
    {# {% set profileImage = '<img src="../css/theme/defaultImage.webp" />'%} #}
{% endif %}

{# Affiliation to university #}
{% set affiliation = node.field_unldirectoryreference.entity.field_edupersonprimaryaffiliatio.value %}

{# Position Title #}
{% set title = node.field_unldirectoryreference.entity.field_title.value %}
{% set fieldTitle = content.field_contact_position %}

{# Department #}
{% set department = node.field_unldirectoryreference.entity.field_unlhrprimarydepartment.value %}

{# Email #}
{% if content.field_contact_email.0["#title"] != null %}
    {% set email =  content.field_contact_email  %}
{% else %}
    {% set email = node.field_unldirectoryreference.entity.field_mail.value %}
{% endif %}

{# Phone number #}
{% if content.field_contact_phone.0["#title"] != null %}
    {% set phoneNumber = content.field_contact_phone %}
{% else %}
    {% set phoneNumber = node.field_unldirectoryreference.entity.field_telephonenumber.value %}
{% endif %}

{# webiste #}
{% set website = content.field_contact_website %}

 <div class="custom-expertise-bg-color custom-expertise-card">
    <div class="custom-expertise-photo">{{ profileImage|raw }}</div>
    <div class="dcf-pt-7 dcf-pb-7 dcf-pl-7 dcf-pr-7">
        {# Name #}
        <div>
            <h2 style="margin-bottom : .25rem">
                <a href="{{ url }}">{{ name }}</a>
            </h2>
            <div class="dcf-mb-3 dcf-txt-2xs dcf-uppercase dcf-italic">{{ affiliation }}</div>
        </div> 
        {# title and department #}
        <div class="dcf-bb-1 unl-bb-light-gray dcf-bb-solid">   
            <div class="dcf-mb-4">
                <div class="dcf-uppercase dcf-txt-sm" style="color:var(--bg-kbd);">{{ title }}</div>
                <div class="dcf-uppercase dcf-txt-sm" style="color:var(--link);  text-decoration: underline;">{{ department }}</div>
            </div>
            {% if content.field_contact_position.0["#context"].value != null %}
            <div class="dcf-mb-4">
                <div class="dcf-uppercase dcf-txt-sm" style="color:var(--bg-kbd);">{{ fieldTitle }}</div>
                <div class="dcf-uppercase dcf-txt-sm" style="color:var(--link);  text-decoration: underline;">{{ department }}</div>
            </div>
            {% endif %}
        </div>
        {# online footprint #}
        <div class="dcf-txt-sm dcf-mt-3 dcf-mb-3" style="color:var(--link);  text-decoration: underline;">{{ website }}</div>
        <div class="dcf-txt-sm dcf-mt-3 dcf-mb-3" style="color:var(--link);  text-decoration: underline;">{{ phoneNumber }}</div>
        <div class="dcf-txt-sm dcf-mt-3 dcf-mb-3" style="color:var(--link);  text-decoration: underline;">{{ email }}</div>
<div class="custom-expertise-bg-color custom-expertise-card">
    <div class="custom-expertise-photo">{{ profileImage|raw }}</div>
    <div class="dcf-pt-7 dcf-pb-7 dcf-pl-7 dcf-pr-7">
        {# Name #}
        <div>
            <h2 style="margin-bottom : .25rem">
                <a href="{{ url }}">{{ name }}</a>
            </h2>
            <div class="dcf-mb-3 dcf-txt-2xs dcf-uppercase dcf-italic">{{ affiliation }}</div>
        </div> 
        {# title and department #}
        <div class="dcf-bb-1 unl-bb-light-gray dcf-bb-solid">   
            <div class="dcf-mb-4">
                <div class="dcf-uppercase dcf-txt-sm" style="color:var(--bg-kbd);">{{ title }}</div>
                <div class="dcf-uppercase dcf-txt-sm" style="color:var(--link);  text-decoration: underline;">{{ department }}</div>
            </div>
            {% if content.field_contact_position.0["#context"].value != null %}
            <div class="dcf-mb-4">
                <div class="dcf-uppercase dcf-txt-sm" style="color:var(--bg-kbd);">{{ fieldTitle }}</div>
                <div class="dcf-uppercase dcf-txt-sm" style="color:var(--link);  text-decoration: underline;">{{ department }}</div>
            </div>
            {% endif %}
        </div>
        {# online footprint #}
        <div class="dcf-txt-sm dcf-mt-3 dcf-mb-3" style="color:var(--link);  text-decoration: underline;">{{ website }}</div>
        <div class="dcf-txt-sm dcf-mt-3 dcf-mb-3" style="color:var(--link);  text-decoration: underline;">{{ phoneNumber }}</div>
        <div class="dcf-txt-sm dcf-mt-3 dcf-mb-3" style="color:var(--link);  text-decoration: underline;">{{ email }}</div>
    </div>
    <div class="custom-expertise-icons-flex dcf-pt-5">
            <div class="dcf-d-flex dcf-flex-col dcf-ai-center">
                <a>
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" aria-labelledby="outline-id-card-3-users-title" style="fill: rgb(208, 0, 0);"><title id="outline-id-card-3-users-title">id-card-3(users)</title><path d="M23.5,3h-23C0.224,3,0,3.224,0,3.5v16C0,19.776,0.224,20,0.5,20h4C4.776,20,5,19.776,5,19.5v-0.75 c0-0.689,0.561-1.25,1.25-1.25s1.25,0.561,1.25,1.25v0.75C7.5,19.776,7.724,20,8,20h8c0.276,0,0.5-0.224,0.5-0.5v-0.75 c0-0.689,0.561-1.25,1.25-1.25S19,18.061,19,18.75v0.75c0,0.276,0.224,0.5,0.5,0.5h4c0.276,0,0.5-0.224,0.5-0.5v-16 C24,3.224,23.776,3,23.5,3z M23,19h-3v-0.25c0-1.241-1.009-2.25-2.25-2.25s-2.25,1.009-2.25,2.25V19h-7v-0.25 c0-1.241-1.009-2.25-2.25-2.25S4,17.509,4,18.75V19H1V4h22V19z"/><path d="M3.5 14h7c.276 0 .5-.224.5-.5 0-1.241-.629-2.633-2.255-3.215C9.209 9.831 9.5 9.2 9.5 8.5 9.5 7.122 8.378 6 7 6S4.5 7.122 4.5 8.5c0 .7.291 1.331.755 1.785C3.629 10.867 3 12.259 3 13.5 3 13.776 3.224 14 3.5 14zM5.5 8.5C5.5 7.673 6.173 7 7 7s1.5.673 1.5 1.5S7.827 10 7 10 5.5 9.327 5.5 8.5zM7 11c2.213 0 2.803 1.21 2.953 2H4.047C4.197 12.21 4.787 11 7 11zM13 13H21V14H13zM13 11H21V12H13zM13 9H21V10H13zM13 7H17V8H13z"/><g><path fill="none" d="M0 0H24V24H0z"/></g></svg>
                </a>
                <p class="dcf-txt-center dcf-txt-2xs dcf-bold" style="color: var(--bg-brand-alpha);">N Card</p>
            </div>
            <div class="dcf-d-flex dcf-flex-col dcf-ai-center">
                <a>
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" aria-labelledby="outline-qr-code-scan-mobile-phones-title" style="fill: rgb(208, 0, 0);"><title id="outline-qr-code-scan-mobile-phones-title">qr-code-scan(mobile-phones)</title><path d="M3.469 21H1v-2.469c0-.276-.224-.5-.5-.5S0 18.255 0 18.531V21.5C0 21.776.224 22 .5 22h2.969c.276 0 .5-.224.5-.5S3.745 21 3.469 21zM3.469 2H.5C.224 2 0 2.224 0 2.5v2.969c0 .276.224.5.5.5S1 5.745 1 5.469V3h2.469c.276 0 .5-.224.5-.5S3.745 2 3.469 2zM23.5 2h-2.969c-.276 0-.5.224-.5.5s.224.5.5.5H23v2.469c0 .276.224.5.5.5s.5-.224.5-.5V2.5C24 2.224 23.776 2 23.5 2zM23.5 18.031c-.276 0-.5.224-.5.5V21h-2.469c-.276 0-.5.224-.5.5s.224.5.5.5H23.5c.276 0 .5-.224.5-.5v-2.969C24 18.255 23.776 18.031 23.5 18.031zM5.5 9h2C7.776 9 8 8.776 8 8.5v-2C8 6.224 7.776 6 7.5 6h-2C5.224 6 5 6.224 5 6.5v2C5 8.776 5.224 9 5.5 9zM6 7h1v1H6V7zM7.5 15h-2C5.224 15 5 15.224 5 15.5v2C5 17.776 5.224 18 5.5 18h2C7.776 18 8 17.776 8 17.5v-2C8 15.224 7.776 15 7.5 15zM7 17H6v-1h1V17zM16.5 9h2C18.776 9 19 8.776 19 8.5v-2C19 6.224 18.776 6 18.5 6h-2C16.224 6 16 6.224 16 6.5v2C16 8.776 16.224 9 16.5 9zM17 7h1v1h-1V7zM5.5 11H8v.5C8 11.776 8.224 12 8.5 12S9 11.776 9 11.5v-1C9 10.224 8.776 10 8.5 10h-3C5.224 10 5 10.224 5 10.5S5.224 11 5.5 11zM5.5 14h4c.276 0 .5-.224.5-.5S9.776 13 9.5 13h-4C5.224 13 5 13.224 5 13.5S5.224 14 5.5 14zM18.5 12h-3.984c-.276 0-.5.224-.5.5v5c0 .276.224.5.5.5H18.5c.276 0 .5-.224.5-.5v-2c0-.276-.224-.5-.5-.5h-1.984c-.276 0-.5.224-.5.5s.224.5.5.5H18v1h-2.984v-4H18v.5c0 .276.224.5.5.5s.5-.224.5-.5v-1C19 12.224 18.776 12 18.5 12zM11.516 14c.276 0 .5-.224.5-.5v-1c0-.276-.224-.5-.5-.5s-.5.224-.5.5v1C11.016 13.776 11.239 14 11.516 14zM14.516 8c.276 0 .5-.224.5-.5v-1c0-.276-.224-.5-.5-.5s-.5.224-.5.5v1C14.016 7.776 14.239 8 14.516 8zM12.5 15h-.984c-.276 0-.5.224-.5.5s.224.5.5.5H12.5c.276 0 .5-.224.5-.5S12.776 15 12.5 15zM12.5 17H10v-1.469c0-.276-.224-.5-.5-.5S9 15.255 9 15.531V17.5C9 17.776 9.224 18 9.5 18h3c.276 0 .5-.224.5-.5S12.776 17 12.5 17zM9.5 9h1C10.776 9 11 8.776 11 8.5S10.776 8 10.5 8H10V6.516c0-.276-.224-.5-.5-.5S9 6.239 9 6.516V8.5C9 8.776 9.224 9 9.5 9z"/><path d="M12.5 6.016c-.276 0-.5.224-.5.5V10h-1.5c-.276 0-.5.224-.5.5s.224.5.5.5h2c.276 0 .5-.224.5-.5V6.516C13 6.239 12.776 6.016 12.5 6.016zM18.516 10h-4c-.276 0-.5.224-.5.5s.224.5.5.5h4c.276 0 .5-.224.5-.5S18.792 10 18.516 10z"/><g><path fill="none" d="M0 0H24V24H0z"/></g></svg>
                </a>
                <p class="dcf-txt-center dcf-txt-2xs dcf-bold" style="color: var(--bg-brand-alpha);">OR code</p>
            </div>
            <div class="dcf-d-flex dcf-flex-col dcf-ai-center">
                <a>
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" viewBox="0 0 24 24" aria-labelledby="outline-print-text-content-edition-title" height="40" style="fill: rgb(208, 0, 0);"><title id="outline-print-text-content-edition-title">print-text(content-edition)</title><path d="M21.5 7h-19C1.122 7 0 8.122 0 9.5v6C0 16.878 1.122 18 2.5 18H5v4.5C5 22.776 5.224 23 5.5 23h13c.276 0 .5-.224.5-.5V18h2.5c1.378 0 2.5-1.122 2.5-2.5v-6C24 8.122 22.878 7 21.5 7zM18 22H6v-7h12V22zM23 15.5c0 .827-.673 1.5-1.5 1.5H19v-2.5c0-.276-.224-.5-.5-.5h-13C5.224 14 5 14.224 5 14.5V17H2.5C1.673 17 1 16.327 1 15.5v-6C1 8.673 1.673 8 2.5 8h19C22.327 8 23 8.673 23 9.5V15.5zM5.5 6C5.776 6 6 5.776 6 5.5V2h9v2.5C15 4.776 15.224 5 15.5 5H18v.5C18 5.776 18.224 6 18.5 6S19 5.776 19 5.5v-1c0-.067-.014-.132-.039-.192-.025-.061-.062-.116-.108-.162l-2.999-2.999c-.046-.046-.101-.082-.162-.108C15.632 1.014 15.567 1 15.5 1h-10C5.224 1 5 1.224 5 1.5v4C5 5.776 5.224 6 5.5 6zM16 2.707L17.293 4H16V2.707z"/><path d="M3.5 9C2.673 9 2 9.673 2 10.5S2.673 12 3.5 12 5 11.327 5 10.5 4.327 9 3.5 9zM3.5 11C3.224 11 3 10.776 3 10.5S3.224 10 3.5 10 4 10.224 4 10.5 3.776 11 3.5 11zM16.5 16h-9C7.224 16 7 16.224 7 16.5S7.224 17 7.5 17h9c.276 0 .5-.224.5-.5S16.776 16 16.5 16zM16.5 18h-9C7.224 18 7 18.224 7 18.5S7.224 19 7.5 19h9c.276 0 .5-.224.5-.5S16.776 18 16.5 18zM16.5 20h-9C7.224 20 7 20.224 7 20.5S7.224 21 7.5 21h9c.276 0 .5-.224.5-.5S16.776 20 16.5 20z"/><g><path fill="none" d="M0 0H24V24H0z"/></g></svg>
                </a>
                <p class="dcf-txt-center dcf-txt-2xs dcf-bold" style="color: var(--bg-brand-alpha);">Print</p>
            </div>
        </div>
</div> 

